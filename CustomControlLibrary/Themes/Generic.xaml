<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:local="clr-namespace:CustomControlLibrary">
    
    <local:HeightBindingConverter x:Key="HeightBindingConverter"/>
    <local:ConvertParameter x:Key="Combo3">B0,B1</local:ConvertParameter>
    <local:ConvertParameter x:Key="Combo5">B0,B2</local:ConvertParameter>
    <local:ConvertParameter x:Key="Combo6">B1,B2</local:ConvertParameter>

    <Style TargetType="{x:Type local:SlideToggleButton}">
        <Setter Property="BorderBrush" Value="#FF707070"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="Width" Value="60"/>
        <Setter Property="Height" Value="30"/>
        <Setter Property="TrackCornerRadius" Value="15"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type local:SlideToggleButton}">
                    <Grid>
                        <Border x:Name="PART_Track" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}"
                                Width="{TemplateBinding Width}" Height="{TemplateBinding Height}"
                                CornerRadius="{TemplateBinding TrackCornerRadius}">
                            <Border.Background>
                                <SolidColorBrush Color="{TemplateBinding UncheckedTrackColor}"/>
                            </Border.Background>
                        </Border>
                        <Border x:Name="PART_Thumb" RenderTransform="{TemplateBinding ThumbTransform}" HorizontalAlignment="Left">
                            <Ellipse x:Name="thumb" Width="{TemplateBinding Height}" Height="{TemplateBinding Height}"
                                     Stroke="Transparent" StrokeThickness="{TemplateBinding Height, Converter={StaticResource HeightBindingConverter}, ConverterParameter={StaticResource Combo5}}">
                                <Ellipse.Fill>
                                    <SolidColorBrush Color="{TemplateBinding ThumbColor}"/>
                                </Ellipse.Fill>
                            </Ellipse>
                        </Border>
                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="CommonStates">
                                <VisualState x:Name="Normal">
                                    <Storyboard>
                                        <ColorAnimation To="{Binding Source={x:Static local:SlideToggleButton.Helper}, Path=ThumbColor}" Duration="0:0:0.3"
                                                        Storyboard.TargetName="thumb"
                                                        Storyboard.TargetProperty="(Ellipse.Fill).(SolidColorBrush.Color)"/>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="MouseOver">
                                    <Storyboard>
                                        <ColorAnimation To="#FFBEE6FD" Duration="0:0:0.3"
                                                        Storyboard.TargetName="thumb"
                                                        Storyboard.TargetProperty="(Ellipse.Fill).(SolidColorBrush.Color)"/>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="Dragging">
                                    <Storyboard>
                                        <ColorAnimation To="#FFC2FFC2" Duration="0:0:0.5"
                                                        Storyboard.TargetName="thumb"
                                                        Storyboard.TargetProperty="(Ellipse.Fill).(SolidColorBrush.Color)"/>
                                    </Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                            <VisualStateGroup x:Name="CheckStates">
                                <VisualState x:Name="Checked">
                                    <Storyboard>
                                        <ColorAnimation To="{Binding Source={x:Static local:SlideToggleButton.Helper}, Path=CheckedTrackColor}" Duration="0:0:0.3"
                                                        Storyboard.TargetName="PART_Track"
                                                        Storyboard.TargetProperty="Background.Color"/>
                                        <DoubleAnimation To="{Binding Source={x:Static local:SlideToggleButton.Helper}, Path=ThumbEndPoint}" Duration="0:0:0.3"
                                                         Storyboard.TargetName="PART_Thumb"
                                                         Storyboard.TargetProperty="(Border.RenderTransform).(TranslateTransform.X)">
                                            <DoubleAnimation.EasingFunction>
                                                <SineEase EasingMode="EaseOut"/>
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="Unchecked">
                                    <Storyboard>
                                        <ColorAnimation To="{Binding Source={x:Static local:SlideToggleButton.Helper}, Path=UncheckedTrackColor}" Duration="0:0:0.3"
                                                        Storyboard.TargetName="PART_Track"
                                                        Storyboard.TargetProperty="Background.Color"/>
                                        <DoubleAnimation To="0" Duration="0:0:0.3"
                                                         Storyboard.TargetName="PART_Thumb"
                                                         Storyboard.TargetProperty="(Border.RenderTransform).(TranslateTransform.X)">
                                            <DoubleAnimation.EasingFunction>
                                                <SineEase EasingMode="EaseOut"/>
                                            </DoubleAnimation.EasingFunction>
                                        </DoubleAnimation>
                                    </Storyboard>
                                </VisualState>
                                <VisualState x:Name="Reset"/>
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>
